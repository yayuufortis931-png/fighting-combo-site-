<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã‚µã‚¬ãƒƒãƒˆãŠã™ã™ã‚ã‚³ãƒ³ãƒœ</title>
<style>
body { 
  font-family: Arial, sans-serif; 
  padding: 20px; 
  background: #f9f9f9; 
}
h2 { 
  text-align: center; 
  margin-bottom: 30px; 
}

/* æˆ»ã‚‹ãƒœã‚¿ãƒ³ */
.back-buttons { 
  margin-bottom: 20px; 
  text-align: center; 
}
.back-buttons button {
  margin: 0 5px;
  padding: 6px 12px;
  border: none;
  border-radius: 5px;
  background: #888; /* ç°è‰²å›ºå®š */
  color: #fff;
  cursor: pointer;
}

/* ã‚«ãƒ¼ãƒ‰é¢¨ */
.combo-card {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 25px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* ã‚¿ã‚¤ãƒˆãƒ« */
.combo-title { 
  font-weight: bold; 
  font-size: 18px; 
  margin-bottom: 12px; 
  text-align: center;
  white-space: nowrap; 
  overflow: hidden; 
  text-overflow: ellipsis;
}

/* æŠ€ç”»åƒã‚³ãƒ³ãƒ†ãƒŠ */
.moves-container { 
  display: flex; 
  gap: 12px; 
  overflow-x: auto; 
  padding-bottom: 8px;
  -webkit-overflow-scrolling: touch; /* ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
}

.moves-container img { 
  flex: 0 0 auto; /* æ¨ªä¸¦ã³å›ºå®š */
  width: 100px; 
  height: 100px; 
  object-fit: contain; 
  border: 1px solid #ddd; 
  border-radius: 8px; 
  background: #f0f0f0; 
  padding: 6px; 
}

/* ã‚¹ãƒãƒ›å‘ã‘å¾®èª¿æ•´ */
@media (max-width: 480px) {
  .combo-title { font-size: 16px; }
  .moves-container img { width: 75px; height: 75px; }
}
</style>
</head>
<body>

<h2>ã‚µã‚¬ãƒƒãƒˆãŠã™ã™ã‚ã‚³ãƒ³ãƒœ</h2>

<div class="back-buttons">
  <button onclick="location.href='index.html'">ğŸ  ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</button>
  <button onclick="location.href='sagat.html'">âœï¸ ã‚³ãƒ³ãƒœç®¡ç†ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹</button>
</div>

<div id="combo-display"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
import { getFirestore, doc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore.js";

// Firebase è¨­å®š
const firebaseConfig = {
  apiKey: "AIzaSyAD4fyc-1VlEEGGO631hhpZqCOqllrQ3og",
  authDomain: "st6-combo-maker.firebaseapp.com",
  projectId: "st6-combo-maker",
  storageBucket: "st6-combo-maker.firebasestorage.app",
  messagingSenderId: "945906359459",
  appId: "1:945906359459:web:59a955b609426cf2893316",
  measurementId: "G-YVFY7H6N9E"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const comboDisplay = document.getElementById("combo-display");

// ã‚µã‚¬ãƒƒãƒˆç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
const docRef = doc(db, "combos", "ã‚µã‚¬ãƒƒãƒˆ");

// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—
onSnapshot(docRef, (docSnap) => {
  comboDisplay.innerHTML = "";
  if (docSnap.exists()) {
    const rows = docSnap.data().rows || [];
    rows.forEach(r => {
      const card = document.createElement("div");
      card.className = "combo-card";

      const title = document.createElement("div");
      title.className = "combo-title";
      title.textContent = r.title;
      card.appendChild(title);

      const movesContainer = document.createElement("div");
      movesContainer.className = "moves-container";

      r.moves.forEach(mv => {
        const img = document.createElement("img");
        img.src = `images/sagat/${mv}.png`;
        img.alt = mv;
        movesContainer.appendChild(img);
      });

      card.appendChild(movesContainer);
      comboDisplay.appendChild(card);
    });
  } else {
    comboDisplay.innerHTML = "<p>ãŠã™ã™ã‚ã‚³ãƒ³ãƒœãŒã¾ã ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p>";
  }
});
</script>

</body>
</html>
